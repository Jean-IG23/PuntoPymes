<div class="min-h-screen bg-white flex items-center justify-center p-4">
  <div class="bg-white rounded-3xl shadow-2xl p-8 w-full max-w-2xl border border-gray-100">
    
    <!-- Header -->
    <div class="text-center mb-12">
      <div class="flex items-center justify-center gap-3 mb-2">
        <i class="ri-time-line text-4xl text-red-600"></i>
        <h1 class="text-3xl font-bold text-gray-900">Control de Asistencia</h1>
      </div>
      <p class="text-gray-600" *ngIf="empleado">
        Bienvenido, <span class="font-semibold text-gray-900">{{ empleado.nombres }}</span>
      </p>
    </div>

    <!-- Reloj Digital -->
    <div class="bg-gradient-to-br from-red-50 to-white rounded-2xl p-8 mb-8 border border-red-200">
      <div class="text-center">
        <div class="text-7xl font-mono font-bold text-red-600 tracking-tight mb-2">
          {{ horaActual }}
        </div>
        <p class="text-lg text-gray-600 capitalize font-medium">{{ fechaActual }}</p>
      </div>
    </div>

    <!-- GPS Status -->
    <div class="mb-8 min-h-[80px] flex items-center justify-center">
      <div *ngIf="cargandoUbicacion" class="flex items-center gap-3 text-yellow-600 animate-pulse">
        <i class="ri-loader-4-line text-2xl animate-spin"></i>
        <span class="font-medium">Detectando ubicación...</span>
      </div>

      <div *ngIf="gpsError" class="w-full bg-red-50 text-red-700 p-4 rounded-xl border border-red-200">
        <div class="flex items-start gap-3">
          <i class="ri-alert-line text-2xl flex-shrink-0 mt-0.5"></i>
          <div class="flex-1">
            <p class="font-semibold">Error de ubicación</p>
            <p class="text-sm text-red-600">{{ gpsError }}</p>
            <button (click)="obtenerUbicacion()" class="mt-2 text-red-700 font-semibold hover:text-red-900 underline text-sm">
              Reintentar
            </button>
          </div>
        </div>
      </div>

      <div *ngIf="ubicacion && !gpsError && !cargandoUbicacion" class="flex items-center gap-3 text-green-600">
        <i class="ri-check-double-line text-2xl"></i>
        <span class="font-medium">Ubicación verificada</span>
      </div>
    </div>

    <!-- Boton Marcar -->
    <div class="flex justify-center mb-8">
      <button (click)="marcar()" 
              [disabled]="cargandoUbicacion || !!gpsError || procesandoMarca"
              class="w-56 h-56 rounded-full transition-all duration-300 transform hover:scale-110 active:scale-95 flex flex-col items-center justify-center shadow-xl group relative overflow-hidden font-bold text-lg"
              [ngClass]="{
                  'bg-red-600 hover:bg-red-700 text-white border-4 border-red-600': !procesandoMarca && ubicacion && !gpsError,
                  'bg-gray-200 text-gray-400 cursor-not-allowed border-4 border-gray-300': cargandoUbicacion || !!gpsError,
                  'bg-red-600 text-white border-4 border-red-600 animate-pulse': procesandoMarca
              }">
        
        <i class="ri-fingerprint-2-line text-6xl mb-3 group-hover:scale-110 transition-transform"></i>
        <span>{{ procesandoMarca ? 'MARCANDO...' : 'MARCAR' }}</span>
      </button>
    </div>

    <!-- Mensajes de Estado -->
    <div class="space-y-4">
      <div *ngIf="mensajeExito" class="bg-green-50 text-green-800 p-4 rounded-xl border-2 border-green-200 animate-fade-in">
        <div class="flex items-start gap-3">
          <i class="ri-check-circle-line text-2xl flex-shrink-0 text-green-600"></i>
          <div>
            <p class="font-bold">¡Marcación Exitosa!</p>
            <p class="text-sm">{{ mensajeExito }}</p>
          </div>
        </div>
      </div>

      <div *ngIf="mensajeError" class="bg-red-50 text-red-800 p-4 rounded-xl border-2 border-red-200 animate-shake">
        <div class="flex items-start gap-3">
          <i class="ri-error-warning-line text-2xl flex-shrink-0 text-red-600"></i>
          <div>
            <p class="font-bold">Error en Marcación</p>
            <p class="text-sm">{{ mensajeError }}</p>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>